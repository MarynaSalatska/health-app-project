"use strict";(self.webpackChunkhealth_app_project=self.webpackChunkhealth_app_project||[]).push([[985],{854:(e,t,d)=>{d.d(t,{a:()=>s});d(2791);var a=d(8273),r=d(184);function s(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{style:{position:"fixed",top:0,width:"100%",height:"100%",background:"rgba(0,0,0, 0.5)",zIndex:"300"},children:(0,r.jsx)(a.iT,{height:80,width:80,color:"#4fa94d",wrapperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:8,strokeWidthSecondary:8})})})}},7117:(e,t,d)=>{d.d(t,{Z:()=>o});d(2791);var a=d(9434);const r={SidebarSection:"RightSideBar_SidebarSection__P08Jz",SidebarWrap:"RightSideBar_SidebarWrap__FDARx",SidebarRecomend:"RightSideBar_SidebarRecomend__h8tJ-",SidebarNotRecomend:"RightSideBar_SidebarNotRecomend__917sN",SidebarTitle:"RightSideBar_SidebarTitle__wARuB",SidebarText:"RightSideBar_SidebarText__551ES",SidebarList:"RightSideBar_SidebarList__Taq3U",SidebarItem:"RightSideBar_SidebarItem__Xcrl8"};var s=d(5984),i=d(184);function o(){const e=(0,a.v9)((e=>e.products.currentDate)),t=(0,a.v9)((e=>e.auth.userData.notAllowedProducts)),d=(0,a.v9)((e=>e.dailyRate.summaries)),o=null===t||void 0===t?void 0:t.slice(0,4);return(0,i.jsx)("div",{className:r.SidebarSection,children:(0,i.jsxs)("div",{className:r.SidebarWrap,children:[(0,i.jsxs)("div",{className:r.SidebarRecomend,children:[(0,i.jsxs)("h2",{className:r.SidebarTitle,children:["\u041f\u0456\u0434\u0441\u0443\u043c\u043e\u043a \u043d\u0430 ",e]}),(0,i.jsxs)("ul",{className:r.SidebarList,children:[(0,i.jsxs)("li",{className:r.SidebarItem,children:[(0,i.jsx)("p",{className:r.SidebarText,children:"\u0417\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c"}),(0,i.jsxs)("p",{className:r.SidebarText,children:[null===d||void 0===d?void 0:d.kcalLeft.toFixed(2)," \u043a\u043a\u0430\u043b"]})]}),(0,i.jsxs)("li",{className:r.SidebarItem,children:[(0,i.jsx)("p",{className:r.SidebarText,children:"\u0421\u043f\u043e\u0436\u0438\u0442\u043e"}),(0,i.jsxs)("p",{className:r.SidebarText,children:[null===d||void 0===d?void 0:d.kcalConsumed.toFixed(2)," \u043a\u043a\u0430\u043b"]})]}),(0,i.jsxs)("li",{className:r.SidebarItem,children:[(0,i.jsx)("p",{className:r.SidebarText,children:"\u0414\u0435\u043d\u043d\u0430 \u043d\u043e\u0440\u043c\u0430"}),(0,i.jsxs)("p",{className:r.SidebarText,children:[null===d||void 0===d?void 0:d.dailyRate.toFixed(2)," \u043a\u043a\u0430\u043b"]})]}),(0,i.jsxs)("li",{className:r.SidebarItem,children:[(0,i.jsx)("p",{className:r.SidebarText,children:"% \u0432\u0456\u0434 \u043d\u043e\u0440\u043c\u0438"}),(0,i.jsxs)("p",{className:r.SidebarText,children:[null===d||void 0===d?void 0:d.percentsOfDailyRate.toFixed(2)," %"]})]})]})]}),(0,i.jsxs)("div",{className:r.SidebarNotRecomend,children:[(0,i.jsx)("h2",{className:r.SidebarTitle,children:"\u041d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u0456 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438"}),0===(null===o||void 0===o?void 0:o.length)&&(0,i.jsx)("p",{className:r.SidebarText,children:"\u0412\u0430\u0448\u0430 \u0434\u0456\u0454\u0442\u0430 \u0431\u0443\u0434\u0435 \u0442\u0443\u0442"}),(0,i.jsx)("ul",{className:r.SidebarList,children:null===o||void 0===o?void 0:o.map((e=>(0,i.jsx)("li",{className:r.SidebarItem,children:(0,i.jsx)("p",{className:r.SidebarText,children:e})},(0,s.x0)())))})]})]})})}},3985:(e,t,d)=>{d.r(t),d.d(t,{default:()=>W});var a=d(2791),r=d(4651),s=d(5866),i=d(7750),o=d(1652),n=d(9095),l=d(5261),c=d(7892),u=d.n(c),m=d(9434);const p={FormDiv:"DiaryAddProductForm_FormDiv__xvRTl",Form:"DiaryAddProductForm_Form__9Niq6",inputProductTwo:"DiaryAddProductForm_inputProductTwo__xl4yC",inputProduct:"DiaryAddProductForm_inputProduct__b4wVT",inputGrams:"DiaryAddProductForm_inputGrams__61zOy",inputForm:"DiaryAddProductForm_inputForm__cPYnv",btnAddProduct:"DiaryAddProductForm_btnAddProduct__NFmgS",btnAddProductMob:"DiaryAddProductForm_btnAddProductMob__C1n5K",divAddProduct:"DiaryAddProductForm_divAddProduct__1NkQ4",iconAddProduct:"DiaryAddProductForm_iconAddProduct__2yIes","MuiStack-root":"DiaryAddProductForm_MuiStack-root__YUwg0","css-1xhypcz-MuiStack-root":"DiaryAddProductForm_css-1xhypcz-MuiStack-root__rohEE",btnBtn:"DiaryAddProductForm_btnBtn__2GeoR",muiCalendar:"DiaryAddProductForm_muiCalendar__r6A88"};var b=d(9291),h=d(9787),_=d(934),x=d(2426),P=d.n(x);const v={burgerList:"DiaryProductsList_burgerList__MTdMo",scrolList:"DiaryProductsList_scrolList__07Oqy"};var y=d(6053);const j={singleSpan:"DiaryProductsListItem_singleSpan__W7b+z",titleProduct:"DiaryProductsListItem_titleProduct__7KgdQ",weightProduct:"DiaryProductsListItem_weightProduct__Fv++r",kcalProduct:"DiaryProductsListItem_kcalProduct__QDbYK",liProduct:"DiaryProductsListItem_liProduct__C5MDk",btnProduct:"DiaryProductsListItem_btnProduct__t5Gsl",iconProduct:"DiaryProductsListItem_iconProduct__aKrJM"};var S=d(184);function N(e){let{title:t,weight:d,kcal:a,id:r,deleteProduct:s}=e;return(0,S.jsx)("li",{className:j.liProduct,children:(0,S.jsxs)("span",{className:j.singleSpan,children:[(0,S.jsxs)("span",{className:j.titleProduct,children:[t," "]}),(0,S.jsxs)("span",{className:j.weightProduct,children:[d," \u0433"]}),(0,S.jsxs)("span",{className:j.kcalProduct,children:[a," \u043a\u043a\u0430\u043b "]}),(0,S.jsx)("button",{className:j.btnProduct,id:r,type:"button",onClick:s,children:(0,S.jsx)("div",{style:{background:"white",color:"#9b9faa"},children:(0,S.jsx)(y.nfZ,{style:{background:"white",color:"#9b9faa"},className:j.iconProduct,id:r})})})]})})}function g(){const e=(0,m.I0)(),t=(0,m.v9)((e=>e.products.currentDate)),d=(0,m.v9)((e=>e.products.items)),a=(0,m.v9)((e=>e.products.dayId)),r=d=>{const r={dayId:a,eatenProductId:d.target.id};localStorage.setItem("dayIdObj",JSON.stringify(r)),e((0,_.rv)(r)).unwrap().then((()=>{e((0,_.OZ)({date:t}))}))};return(0,S.jsx)("div",{className:v.burgerList,children:(0,S.jsx)("ul",{className:v.scrolList,children:null===d||void 0===d?void 0:d.map((e=>{let{id:t,title:d,weight:a,kcal:s}=e;return(0,S.jsx)(N,{id:t,title:d,weight:a,kcal:Math.round(s),deleteProduct:r},t)}))})})}var D=d(356),f=d(5822),M=d(8573),A=d.n(M);const k=new Date;function w(e){let{handleOpenModal:t,onClose:d,isOpenModal:c,isInModal:x}=e;const{width:v}=(0,b.Z)(),y=(0,m.I0)(),[j,N]=(0,a.useState)(""),[M,w]=(0,a.useState)(""),[F,I]=(0,a.useState)([]),[C,L]=(0,a.useState)(""),T=(0,m.v9)((e=>e.products.currentDate)),B=(0,a.useMemo)((()=>A()((e=>{e&&(0,h.WI)(e).then((e=>{I(e)}))}),500)),[]),R=e=>{const{value:t}=e.target;N(t),B(j)},G=e=>{const{value:t}=e.target;w(t)},O=e=>{y((0,D.GS)(P()(e).format("yyyy-MM-DD")))};(0,a.useEffect)((()=>{setTimeout((()=>y((0,_.OZ)({date:P()(T).format("yyyy-MM-DD")}))),1500)}),[y,T]);const E={date:T,productId:C,weight:M};function W(e){e.preventDefault(),y((0,_.AT)(E)).unwrap().then((()=>{y((0,f.k)()),v<768&&x&&d(),y((0,_.OZ)({date:T}))})),N(""),w(""),e.target.reset()}const Z=()=>!!(v<768&&x||v>767&&!x);return(0,S.jsxs)("div",{className:p.FormDiv,children:[Z()&&(0,S.jsxs)("form",{className:p.Form,autoComplete:"off",onSubmit:W,children:[(0,S.jsx)("div",{style:{border:"none"},children:(0,S.jsx)(o._,{dateAdapter:i.H,children:(0,S.jsx)(s.C,{components:["DatePicker"],children:!x&&(0,S.jsx)(n.M,{className:p.muiCalendar,slots:{textField:l.Z},slotProps:{textField:{variant:"standard",overflow:"auto !important",border:"none"}},InputProps:{disableUnderline:!0,border:"none"},sx:{div:{border:"transparent"},"& .MuiInputBase-root":{border:"none"},"& .MuiInputBase-input":{border:"none",fontSize:"34px",fontWeight:"700",lineHeight:"1.2",padding:"0"}},format:"dd.MM.yyyy",minDate:u()("2020-01-01"),maxDate:u()(new Date),defaultValue:k,onChange:O,adapter:i.H})})})}),(0,S.jsxs)("div",{className:p.inputProductTwo,children:[(0,S.jsxs)("label",{label:"Product",className:p.inputProductLabel,children:[(0,S.jsx)("input",{className:p.inputProduct,list:"listProducts",type:"text",name:"product",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443",value:j,onChange:R}),null===F||void 0===F?void 0:F.map((e=>{let{_id:t,title:d}=e;return(0,S.jsx)("button",{className:p.btnBtn,type:"button",value:t,style:{display:"block"},onClick:()=>{L(t),N(d.ua),I([])},children:d.ua},t)}))]}),(0,S.jsx)("label",{label:"Grams",children:(0,S.jsx)("input",{className:p.inputGrams,type:"text",name:"weight",placeholder:"\u0413\u0440\u0430\u043c\u0438 ",value:M,onChange:G})}),(0,S.jsx)("div",{className:p.divAddProduct,children:(0,S.jsx)("button",{className:p.btnAddProduct,type:"submit",children:v>768?(0,S.jsx)(r.kPb,{className:p.iconAddProduct}):"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"})})]})]})," ",!Z()&&(0,S.jsxs)("form",{className:p.Form,autoComplete:"off",onSubmit:W,children:[(0,S.jsx)("div",{style:{border:"none"},children:(0,S.jsx)(o._,{dateAdapter:i.H,children:(0,S.jsx)(s.C,{components:["DatePicker"],children:!x&&(0,S.jsx)(n.M,{className:p.muiCalendar,slots:{textField:l.Z},slotProps:{textField:{variant:"standard",overflow:"auto !important",border:"none"}},InputProps:{disableUnderline:!0,border:"none"},sx:{div:{border:"transparent"},"& .MuiInputBase-root":{border:"none"},"& .MuiInputBase-input":{border:"none",fontSize:"24px",fontWeight:"700",lineHeight:"1.2",padding:"0"}},format:"dd.MM.yyyy",minDate:u()("2020-01-01"),maxDate:u()(new Date),defaultValue:k,onChange:O,adapter:i.H})})})}),x&&(0,S.jsxs)("div",{className:p.inputProductTwo,children:[(0,S.jsxs)("label",{label:"Product",className:p.inputProductLabel,children:[(0,S.jsx)("input",{className:p.inputProduct,list:"listProducts",type:"text",name:"product",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443",value:j,onChange:R}),null===F||void 0===F?void 0:F.map((e=>{let{_id:t,title:d}=e;return(0,S.jsx)("button",{className:p.btnBtn,type:"button",value:t,style:{display:"block"},onClick:()=>{L(t),N(d.ua),I([])},children:d.ua},t)}))]}),(0,S.jsx)("label",{label:"Grams",children:(0,S.jsx)("input",{className:p.inputGrams,type:"text",name:"weight",placeholder:"\u0413\u0440\u0430\u043c\u0438 ",value:M,onChange:G})}),(0,S.jsx)("div",{className:p.divAddProduct,children:(0,S.jsx)("button",{className:p.btnAddProduct,type:"submit",children:v>768?(0,S.jsx)(r.kPb,{className:p.iconAddProduct}):"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"})})]})]}),!x&&(0,S.jsx)(g,{}),v<=768&&!c&&(0,S.jsx)("div",{className:p.divAddProduct,children:(0,S.jsx)("button",{type:"button",className:p.btnAddProductMob,onClick:t,children:(0,S.jsx)(r.kPb,{className:p.iconAddProduct})})})]})}var F=d(7117);const I={diaryPage:"DiaryPage_diaryPage__6UKYq",noScrool:"DiaryPage_noScrool__JB6rG"};var C=d(4164);const L={backdrop:"ModalMobAddGrams_backdrop__Yij0N",modal:"ModalMobAddGrams_modal__tpg5P",closeBtn:"ModalMobAddGrams_closeBtn__csJgR",form:"ModalMobAddGrams_form__laK4A"};var T=d(6856);const B=document.getElementById("modal");function R(e){let{onClose:t,isOpenModal:d}=e;return(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.code&&t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t]),(0,C.createPortal)((0,S.jsx)("div",{className:L.backdrop,onClick:e=>{e.target===e.currentTarget&&t()},children:(0,S.jsxs)("div",{className:L.modal,children:[(0,S.jsx)("button",{type:"button",className:L.closeBtn,children:(0,S.jsx)(T.Su7,{style:{width:20,height:16},onClick:()=>t()})}),(0,S.jsx)(w,{isInModal:!0,onClose:t,isOpenModal:d})]})}),B)}var G=d(4289),O=d(854);const E=e=>e.products.isLoading;function W(){const[e,t]=(0,a.useState)(!1),d=(0,m.v9)(G.MQ),r=(0,m.v9)(E);return(0,S.jsxs)("div",{className:I.diaryPage,children:[(r||d)&&(0,S.jsx)(O.a,{}),(0,S.jsx)(w,{handleOpenModal:()=>{t(!0),document.body.classList.add("noScrool")}}),(0,S.jsx)(F.Z,{}),e&&(0,S.jsx)(R,{onClose:()=>{t(!1),document.body.classList.remove("noScrool")},isOpenModal:e})]})}}}]);
//# sourceMappingURL=985.af3b0f15.chunk.js.map